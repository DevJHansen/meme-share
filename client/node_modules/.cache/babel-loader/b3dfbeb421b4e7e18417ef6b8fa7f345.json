{"ast":null,"code":"import _objectSpread from\"/Users/justin/Documents/Programming /meme-share/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from\"react\";import globalStyles from\"../../config/globalStyles\";import{MdKeyboardArrowUp,MdKeyboardArrowDown,MdChat,MdDelete}from\"react-icons/md\";import Link from\"../UI/Link\";import{useDispatch,useSelector}from\"react-redux\";import axios from\"axios\";import{APIURL}from\"../../config/vars\";import{store}from\"react-notifications-component\";import{deletePost}from\"../../actions/postActions\";var MyMemeCard=function MyMemeCard(props){var dispatch=useDispatch();var post=props.post;var auth=useSelector(function(state){return{auth:state.auth};},[]);var handleDelete=function handleDelete(){var config={headers:{Authorization:\"Bearer \".concat(auth.auth.token)}};axios.delete(\"\".concat(APIURL,\"posts/\").concat(post._id),config).then(function(){dispatch(deletePost(post._id));}).catch(function(){store.addNotification({title:\"Error!\",message:\"Something went wrong deleting your post\",type:\"danger\",insert:\"top\",container:\"top-center\",animationIn:[\"animate__animated\",\"animate__fadeIn\"],animationOut:[\"animate__animated\",\"animate__fadeOut\"],dismiss:{duration:5000,onScreen:true}});});};return/*#__PURE__*/React.createElement(\"div\",{style:styles.card},/*#__PURE__*/React.createElement(\"p\",{style:_objectSpread(_objectSpread({},styles.category),globalStyles.hint)},post.category.charAt(0).toUpperCase()+post.category.slice(1)),/*#__PURE__*/React.createElement(Link,{to:\"post/\".concat(post._id)},/*#__PURE__*/React.createElement(\"h3\",{style:styles.title},post.title)),/*#__PURE__*/React.createElement(\"div\",null,post.content.endsWith(\"mp4\")||post.content.endsWith(\"ogg\")||post.content.endsWith(\"webm\")?/*#__PURE__*/React.createElement(\"video\",{src:post.content,style:styles.content,controls:true}):/*#__PURE__*/React.createElement(\"img\",{src:post.content,style:styles.content,alt:post.title})),/*#__PURE__*/React.createElement(\"div\",{style:styles.interactions},/*#__PURE__*/React.createElement(\"div\",{style:styles.interaction},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(MdKeyboardArrowUp,{style:globalStyles.icon}),/*#__PURE__*/React.createElement(\"p\",{style:styles.interactionNumber},post.upVotes.length))),/*#__PURE__*/React.createElement(\"div\",{style:styles.interaction},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(MdKeyboardArrowDown,{style:globalStyles.icon}),/*#__PURE__*/React.createElement(\"p\",{style:styles.interactionNumber},post.downVotes.length))),/*#__PURE__*/React.createElement(Link,{to:\"post/\".concat(post._id)},/*#__PURE__*/React.createElement(\"div\",{style:styles.interaction},/*#__PURE__*/React.createElement(MdChat,{style:globalStyles.icon}),/*#__PURE__*/React.createElement(\"p\",{style:styles.interactionNumber},post.comments.length))),/*#__PURE__*/React.createElement(\"div\",{style:styles.interaction},/*#__PURE__*/React.createElement(MdDelete,{style:globalStyles.icon,onClick:handleDelete}))));};var styles={card:{backgroundColor:\"white\",paddingTop:10,paddingBottom:10,paddingRight:20,paddingLeft:20,borderRadius:globalStyles.borderRadius,boxShadow:globalStyles.boxShadow,width:\"calc(100% - 40px)\"},title:{marginTop:10,marginBottom:10},category:{marginTop:0,marginBottom:10},content:{width:\"100%\",height:\"auto\"},interactions:{display:\"flex\",flexDirection:\"row\",marginTop:10,marginBottom:10},interaction:{borderRadius:globalStyles.borderRadius,boxShadow:globalStyles.boxShadow,paddingLeft:10,paddingRight:10,display:\"flex\",flexDirection:\"row\",justifyContent:\"center\",alignItems:\"center\",cursor:\"pointer\"},interactionNumber:{marginLeft:5}};export default MyMemeCard;","map":{"version":3,"sources":["/Users/justin/Documents/Programming /meme-share/client/src/components/UI/MyMemeCard.jsx"],"names":["React","globalStyles","MdKeyboardArrowUp","MdKeyboardArrowDown","MdChat","MdDelete","Link","useDispatch","useSelector","axios","APIURL","store","deletePost","MyMemeCard","props","dispatch","post","auth","state","handleDelete","config","headers","Authorization","token","delete","_id","then","catch","addNotification","title","message","type","insert","container","animationIn","animationOut","dismiss","duration","onScreen","styles","card","category","hint","charAt","toUpperCase","slice","content","endsWith","interactions","interaction","icon","interactionNumber","upVotes","length","downVotes","comments","backgroundColor","paddingTop","paddingBottom","paddingRight","paddingLeft","borderRadius","boxShadow","width","marginTop","marginBottom","height","display","flexDirection","justifyContent","alignItems","cursor","marginLeft"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport globalStyles from \"../../config/globalStyles\";\nimport {\n  MdKeyboardArrowUp,\n  MdKeyboardArrowDown,\n  MdChat,\n  MdDelete,\n} from \"react-icons/md\";\nimport Link from \"../UI/Link\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport axios from \"axios\";\nimport { APIURL } from \"../../config/vars\";\nimport { store } from \"react-notifications-component\";\nimport { deletePost } from \"../../actions/postActions\";\n\nconst MyMemeCard = (props) => {\n  const dispatch = useDispatch();\n  const { post } = props;\n\n  const auth = useSelector(\n    (state) => ({\n      auth: state.auth,\n    }),\n    []\n  );\n\n  const handleDelete = () => {\n    const config = {\n      headers: {\n        Authorization: `Bearer ${auth.auth.token}`,\n      },\n    };\n\n    axios\n      .delete(`${APIURL}posts/${post._id}`, config)\n      .then(() => {\n        dispatch(deletePost(post._id));\n      })\n      .catch(() => {\n        store.addNotification({\n          title: \"Error!\",\n          message: \"Something went wrong deleting your post\",\n          type: \"danger\",\n          insert: \"top\",\n          container: \"top-center\",\n          animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n          animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n          dismiss: {\n            duration: 5000,\n            onScreen: true,\n          },\n        });\n      });\n  };\n\n  return (\n    <div style={styles.card}>\n      <p style={{ ...styles.category, ...globalStyles.hint }}>\n        {post.category.charAt(0).toUpperCase() + post.category.slice(1)}\n      </p>\n      <Link to={`post/${post._id}`}>\n        <h3 style={styles.title}>{post.title}</h3>\n      </Link>\n      <div>\n        {post.content.endsWith(\"mp4\") ||\n        post.content.endsWith(\"ogg\") ||\n        post.content.endsWith(\"webm\") ? (\n          <video src={post.content} style={styles.content} controls />\n        ) : (\n          <img src={post.content} style={styles.content} alt={post.title} />\n        )}\n      </div>\n      <div style={styles.interactions}>\n        <div style={styles.interaction}>\n          <React.Fragment>\n            <MdKeyboardArrowUp style={globalStyles.icon} />\n            <p style={styles.interactionNumber}>{post.upVotes.length}</p>\n          </React.Fragment>\n        </div>\n        <div style={styles.interaction}>\n          <React.Fragment>\n            <MdKeyboardArrowDown style={globalStyles.icon} />\n            <p style={styles.interactionNumber}>{post.downVotes.length}</p>\n          </React.Fragment>\n        </div>\n        <Link to={`post/${post._id}`}>\n          <div style={styles.interaction}>\n            <MdChat style={globalStyles.icon} />\n            <p style={styles.interactionNumber}>{post.comments.length}</p>\n          </div>\n        </Link>\n        <div style={styles.interaction}>\n          <MdDelete style={globalStyles.icon} onClick={handleDelete} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst styles = {\n  card: {\n    backgroundColor: \"white\",\n    paddingTop: 10,\n    paddingBottom: 10,\n    paddingRight: 20,\n    paddingLeft: 20,\n    borderRadius: globalStyles.borderRadius,\n    boxShadow: globalStyles.boxShadow,\n    width: \"calc(100% - 40px)\",\n  },\n  title: {\n    marginTop: 10,\n    marginBottom: 10,\n  },\n  category: {\n    marginTop: 0,\n    marginBottom: 10,\n  },\n  content: {\n    width: \"100%\",\n    height: \"auto\",\n  },\n  interactions: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    marginTop: 10,\n    marginBottom: 10,\n  },\n  interaction: {\n    borderRadius: globalStyles.borderRadius,\n    boxShadow: globalStyles.boxShadow,\n    paddingLeft: 10,\n    paddingRight: 10,\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    cursor: \"pointer\",\n  },\n  interactionNumber: {\n    marginLeft: 5,\n  },\n};\n\nexport default MyMemeCard;\n"]},"metadata":{},"sourceType":"module"}