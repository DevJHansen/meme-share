{"ast":null,"code":"var _jsxFileName = \"/Users/justin/Documents/Programming /meme-share/client/src/components/singleUse/signup/SignUpForm.jsx\";\nimport React, { useState } from \"react\";\nimport Colors from \"../../../config/colors\";\nimport axios from \"axios\";\nimport { useDispatch } from \"react-redux\";\nimport { loadUser, login } from \"../../../actions/authActions\";\nimport globalStyles from \"../../../config/globalStyles\";\nimport { APIURL } from \"../../../config/vars\";\nimport Input from \"../../UI/Input\";\nimport Button from \"../../UI/Button\";\nimport Link from \"../../UI/Link\";\nimport Loading from \"../../UI/Loading\";\nimport { store } from \"react-notifications-component\";\nexport const SignUpHeader = () => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }\n  }, \"BOOTCAMP FINDER\"));\n};\nexport const SignUpFooter = () => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    style: styles.linkBtn,\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: { ...styles.footerBtn,\n      backgroundColor: Colors.tertiary\n    },\n    title: \"Login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  })));\n};\n\nconst SignUpForm = props => {\n  const [email, setEmail] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [role, setRole] = useState(\"user\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [nameError, setNameError] = useState(false);\n  const [emailError, setEmailError] = useState(false);\n  const [passwordError, setPasswordError] = useState(false);\n  const [confirmPasswordError, setConfrimPasswordError] = useState(false);\n  const dispatch = useDispatch();\n\n  const handleNameChange = e => {\n    setName(e.target.value);\n  };\n\n  const handleSetPublisher = () => {\n    setRole(\"publisher\");\n  };\n\n  const handleSetUser = () => {\n    setRole(\"user\");\n  };\n\n  const handleEmailChange = e => {\n    setEmail(e.target.value);\n  };\n\n  const handlePasswordChange = e => {\n    setPassword(e.target.value);\n  };\n\n  const handleConfirmPasswordChange = e => {\n    setConfirmPassword(e.target.value);\n  };\n\n  const handleSignUp = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setEmailError(false);\n    setNameError(false);\n    setPasswordError(false);\n    setConfrimPasswordError(false);\n    const re = new RegExp(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n\n    if (!re.test(email)) {\n      setLoading(false);\n      setEmailError(true);\n      store.addNotification({\n        title: \"Error!\",\n        message: \"Please enter a valid email address\",\n        type: \"danger\",\n        insert: \"top\",\n        container: \"top-center\",\n        animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n        animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n        dismiss: {\n          duration: 5000,\n          onScreen: true\n        }\n      });\n      return;\n    }\n\n    const checkEmail = await axios.post(`${APIURL}check/email`, {\n      email: email.toLowerCase()\n    });\n\n    if (!checkEmail.data.success) {\n      setEmailError(true);\n      setLoading(false);\n      store.addNotification({\n        title: \"Error!\",\n        message: \"Email already in use\",\n        type: \"danger\",\n        insert: \"top\",\n        container: \"top-center\",\n        animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n        animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n        dismiss: {\n          duration: 5000,\n          onScreen: true\n        }\n      });\n      return;\n    }\n\n    if (name.length < 1) {\n      setNameError(true);\n      setLoading(false);\n      store.addNotification({\n        title: \"Error!\",\n        message: \"Please enter your name\",\n        type: \"danger\",\n        insert: \"top\",\n        container: \"top-center\",\n        animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n        animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n        dismiss: {\n          duration: 5000,\n          onScreen: true\n        }\n      });\n      return;\n    }\n\n    if (password.length < 6) {\n      setPasswordError(true);\n      setLoading(false);\n      store.addNotification({\n        title: \"Error!\",\n        message: \"Passwords needs to be at least 6 characters\",\n        type: \"danger\",\n        insert: \"top\",\n        container: \"top-center\",\n        animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n        animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n        dismiss: {\n          duration: 5000,\n          onScreen: true\n        }\n      });\n      return;\n    }\n\n    if (password !== confirmPassword) {\n      setPasswordError(true);\n      setConfrimPasswordError(true);\n      setLoading(false);\n      store.addNotification({\n        title: \"Error!\",\n        message: \"Passwords do not match\",\n        type: \"danger\",\n        insert: \"top\",\n        container: \"top-center\",\n        animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n        animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n        dismiss: {\n          duration: 5000,\n          onScreen: true\n        }\n      });\n      return;\n    }\n\n    const body = {\n      email: email.toLowerCase(),\n      name: name,\n      role: role,\n      password: password\n    };\n    axios.post(`${APIURL}auth/register`, body).then(res => {\n      setName(\"\");\n      setEmail(\"\");\n      setPassword(\"\");\n      setConfirmPassword(\"\");\n      dispatch(login(res.data.token));\n      dispatch(loadUser());\n      setLoading(false);\n    }).catch(err => {\n      setLoading(false);\n      store.addNotification({\n        title: \"Error!\",\n        message: \"Oops... Something went wrong. Please try again\",\n        type: \"danger\",\n        insert: \"top\",\n        container: \"top-center\",\n        animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n        animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n        dismiss: {\n          duration: 5000,\n          onScreen: true\n        }\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSignUp,\n    style: styles.form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      margin: 5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    style: role === \"user\" ? { ...styles.roleBtn,\n      backgroundColor: Colors.accent\n    } : { ...styles.roleBtn\n    },\n    onClick: handleSetUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 11\n    }\n  }, \"User\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    style: role === \"publisher\" ? { ...styles.roleBtn,\n      backgroundColor: Colors.accent\n    } : { ...styles.roleBtn\n    },\n    onClick: handleSetPublisher,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 11\n    }\n  }, \"Publisher\")), /*#__PURE__*/React.createElement(Input, {\n    value: email,\n    onChange: handleEmailChange,\n    type: \"email\",\n    placeholder: \"Email\",\n    style: emailError ? { ...styles.input,\n      ...globalStyles.errorValidation\n    } : styles.input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    value: name,\n    min: 2,\n    onChange: handleNameChange,\n    type: \"text\",\n    placeholder: \"Full Name\",\n    style: nameError ? { ...styles.input,\n      ...globalStyles.errorValidation\n    } : styles.input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    value: password,\n    onChange: handlePasswordChange,\n    type: \"password\",\n    placeholder: \"Password\",\n    style: passwordError ? { ...styles.input,\n      ...globalStyles.errorValidation\n    } : styles.input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    value: confirmPassword,\n    onChange: handleConfirmPasswordChange,\n    type: \"password\",\n    placeholder: \"Confirm Password\",\n    style: confirmPasswordError ? { ...styles.input,\n      ...globalStyles.errorValidation\n    } : styles.input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 9\n    }\n  }), loading ? /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 11\n    }\n  }) : /*#__PURE__*/React.createElement(Button, {\n    style: styles.button,\n    type: \"submit\",\n    title: \"Sign Up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 11\n    }\n  })));\n};\n\nconst styles = {\n  button: {\n    margin: 5,\n    width: \"100%\",\n    backgroundColor: Colors.primary\n  },\n  input: {\n    margin: 5,\n    width: \"100%\"\n  },\n  form: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"column\"\n  },\n  linkText: {\n    fontSize: 12,\n    margin: 4,\n    color: \"#f1f1f1\"\n  },\n  header: {\n    color: Colors.primary,\n    fontSize: 32,\n    fontFamily: globalStyles.titleFont\n  },\n  link: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    width: \"100%\"\n  },\n  linkBtn: {\n    marginLeft: 2,\n    marginRight: 2,\n    width: \"100%\"\n  },\n  footerBtn: {\n    marginTop: 5,\n    marginBottom: 5,\n    width: \"100%\"\n  },\n  roleBtn: {\n    padding: 5,\n    width: \"80px\",\n    margin: \"2px\",\n    border: \"none\",\n    borderRadius: globalStyles.borderRadius,\n    boxShadow: globalStyles.boxShadow\n  }\n};\nexport default SignUpForm;","map":{"version":3,"sources":["/Users/justin/Documents/Programming /meme-share/client/src/components/singleUse/signup/SignUpForm.jsx"],"names":["React","useState","Colors","axios","useDispatch","loadUser","login","globalStyles","APIURL","Input","Button","Link","Loading","store","SignUpHeader","styles","header","SignUpFooter","link","linkBtn","footerBtn","backgroundColor","tertiary","SignUpForm","props","email","setEmail","name","setName","role","setRole","password","setPassword","confirmPassword","setConfirmPassword","loading","setLoading","nameError","setNameError","emailError","setEmailError","passwordError","setPasswordError","confirmPasswordError","setConfrimPasswordError","dispatch","handleNameChange","e","target","value","handleSetPublisher","handleSetUser","handleEmailChange","handlePasswordChange","handleConfirmPasswordChange","handleSignUp","preventDefault","re","RegExp","test","addNotification","title","message","type","insert","container","animationIn","animationOut","dismiss","duration","onScreen","checkEmail","post","toLowerCase","data","success","length","body","then","res","token","catch","err","form","margin","roleBtn","accent","input","errorValidation","button","width","primary","display","alignItems","justifyContent","flexDirection","linkText","fontSize","color","fontFamily","titleFont","marginLeft","marginRight","marginTop","marginBottom","padding","border","borderRadius","boxShadow"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n\nimport Colors from \"../../../config/colors\";\n\nimport axios from \"axios\";\nimport { useDispatch } from \"react-redux\";\nimport { loadUser, login } from \"../../../actions/authActions\";\n\nimport globalStyles from \"../../../config/globalStyles\";\n\nimport { APIURL } from \"../../../config/vars\";\n\nimport Input from \"../../UI/Input\";\nimport Button from \"../../UI/Button\";\nimport Link from \"../../UI/Link\";\nimport Loading from \"../../UI/Loading\";\n\nimport { store } from \"react-notifications-component\";\n\nexport const SignUpHeader = () => {\n  return (\n    <div style={styles.header}>\n      <b>BOOTCAMP FINDER</b>\n    </div>\n  );\n};\n\nexport const SignUpFooter = () => {\n  return (\n    <div style={styles.link}>\n      <Link style={styles.linkBtn} to=\"/login\">\n        <Button\n          style={{ ...styles.footerBtn, backgroundColor: Colors.tertiary }}\n          title=\"Login\"\n        />\n      </Link>\n    </div>\n  );\n};\n\nconst SignUpForm = (props) => {\n  const [email, setEmail] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [role, setRole] = useState(\"user\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [nameError, setNameError] = useState(false);\n  const [emailError, setEmailError] = useState(false);\n  const [passwordError, setPasswordError] = useState(false);\n  const [confirmPasswordError, setConfrimPasswordError] = useState(false);\n\n  const dispatch = useDispatch();\n\n  const handleNameChange = (e) => {\n    setName(e.target.value);\n  };\n\n  const handleSetPublisher = () => {\n    setRole(\"publisher\");\n  };\n\n  const handleSetUser = () => {\n    setRole(\"user\");\n  };\n\n  const handleEmailChange = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const handlePasswordChange = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleConfirmPasswordChange = (e) => {\n    setConfirmPassword(e.target.value);\n  };\n\n  const handleSignUp = async (e) => {\n    e.preventDefault();\n\n    setLoading(true);\n    setEmailError(false);\n    setNameError(false);\n    setPasswordError(false);\n    setConfrimPasswordError(false);\n\n    const re = new RegExp(\n      /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n    );\n    if (!re.test(email)) {\n      setLoading(false);\n      setEmailError(true);\n      store.addNotification({\n        title: \"Error!\",\n        message: \"Please enter a valid email address\",\n        type: \"danger\",\n        insert: \"top\",\n        container: \"top-center\",\n        animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n        animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n        dismiss: {\n          duration: 5000,\n          onScreen: true,\n        },\n      });\n      return;\n    }\n\n    const checkEmail = await axios.post(`${APIURL}check/email`, {\n      email: email.toLowerCase(),\n    });\n\n    if (!checkEmail.data.success) {\n      setEmailError(true);\n      setLoading(false);\n      store.addNotification({\n        title: \"Error!\",\n        message: \"Email already in use\",\n        type: \"danger\",\n        insert: \"top\",\n        container: \"top-center\",\n        animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n        animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n        dismiss: {\n          duration: 5000,\n          onScreen: true,\n        },\n      });\n      return;\n    }\n\n    if (name.length < 1) {\n      setNameError(true);\n      setLoading(false);\n      store.addNotification({\n        title: \"Error!\",\n        message: \"Please enter your name\",\n        type: \"danger\",\n        insert: \"top\",\n        container: \"top-center\",\n        animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n        animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n        dismiss: {\n          duration: 5000,\n          onScreen: true,\n        },\n      });\n      return;\n    }\n\n    if (password.length < 6) {\n      setPasswordError(true);\n      setLoading(false);\n      store.addNotification({\n        title: \"Error!\",\n        message: \"Passwords needs to be at least 6 characters\",\n        type: \"danger\",\n        insert: \"top\",\n        container: \"top-center\",\n        animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n        animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n        dismiss: {\n          duration: 5000,\n          onScreen: true,\n        },\n      });\n      return;\n    }\n\n    if (password !== confirmPassword) {\n      setPasswordError(true);\n      setConfrimPasswordError(true);\n      setLoading(false);\n      store.addNotification({\n        title: \"Error!\",\n        message: \"Passwords do not match\",\n        type: \"danger\",\n        insert: \"top\",\n        container: \"top-center\",\n        animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n        animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n        dismiss: {\n          duration: 5000,\n          onScreen: true,\n        },\n      });\n      return;\n    }\n\n    const body = {\n      email: email.toLowerCase(),\n      name: name,\n      role: role,\n      password: password,\n    };\n\n    axios\n      .post(`${APIURL}auth/register`, body)\n      .then((res) => {\n        setName(\"\");\n        setEmail(\"\");\n        setPassword(\"\");\n        setConfirmPassword(\"\");\n        dispatch(login(res.data.token));\n        dispatch(loadUser());\n        setLoading(false);\n      })\n      .catch((err) => {\n        setLoading(false);\n        store.addNotification({\n          title: \"Error!\",\n          message: \"Oops... Something went wrong. Please try again\",\n          type: \"danger\",\n          insert: \"top\",\n          container: \"top-center\",\n          animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n          animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n          dismiss: {\n            duration: 5000,\n            onScreen: true,\n          },\n        });\n      });\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSignUp} style={styles.form}>\n        <div style={{ margin: 5 }}>\n          <button\n            type=\"button\"\n            style={\n              role === \"user\"\n                ? { ...styles.roleBtn, backgroundColor: Colors.accent }\n                : { ...styles.roleBtn }\n            }\n            onClick={handleSetUser}\n          >\n            User\n          </button>\n          <button\n            type=\"button\"\n            style={\n              role === \"publisher\"\n                ? { ...styles.roleBtn, backgroundColor: Colors.accent }\n                : { ...styles.roleBtn }\n            }\n            onClick={handleSetPublisher}\n          >\n            Publisher\n          </button>\n        </div>\n        <Input\n          value={email}\n          onChange={handleEmailChange}\n          type=\"email\"\n          placeholder=\"Email\"\n          style={\n            emailError\n              ? { ...styles.input, ...globalStyles.errorValidation }\n              : styles.input\n          }\n        />\n        <Input\n          value={name}\n          min={2}\n          onChange={handleNameChange}\n          type=\"text\"\n          placeholder=\"Full Name\"\n          style={\n            nameError\n              ? { ...styles.input, ...globalStyles.errorValidation }\n              : styles.input\n          }\n        />\n        <Input\n          value={password}\n          onChange={handlePasswordChange}\n          type=\"password\"\n          placeholder=\"Password\"\n          style={\n            passwordError\n              ? { ...styles.input, ...globalStyles.errorValidation }\n              : styles.input\n          }\n        />\n        <Input\n          value={confirmPassword}\n          onChange={handleConfirmPasswordChange}\n          type=\"password\"\n          placeholder=\"Confirm Password\"\n          style={\n            confirmPasswordError\n              ? { ...styles.input, ...globalStyles.errorValidation }\n              : styles.input\n          }\n        />\n        {loading ? (\n          <Loading />\n        ) : (\n          <Button style={styles.button} type=\"submit\" title=\"Sign Up\" />\n        )}\n      </form>\n    </div>\n  );\n};\n\nconst styles = {\n  button: {\n    margin: 5,\n    width: \"100%\",\n    backgroundColor: Colors.primary,\n  },\n  input: {\n    margin: 5,\n    width: \"100%\",\n  },\n  form: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"column\",\n  },\n  linkText: {\n    fontSize: 12,\n    margin: 4,\n    color: \"#f1f1f1\",\n  },\n  header: {\n    color: Colors.primary,\n    fontSize: 32,\n    fontFamily: globalStyles.titleFont,\n  },\n  link: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    width: \"100%\",\n  },\n  linkBtn: {\n    marginLeft: 2,\n    marginRight: 2,\n    width: \"100%\",\n  },\n  footerBtn: {\n    marginTop: 5,\n    marginBottom: 5,\n    width: \"100%\",\n  },\n  roleBtn: {\n    padding: 5,\n    width: \"80px\",\n    margin: \"2px\",\n    border: \"none\",\n    borderRadius: globalStyles.borderRadius,\n    boxShadow: globalStyles.boxShadow,\n  },\n};\n\nexport default SignUpForm;\n"]},"metadata":{},"sourceType":"module"}